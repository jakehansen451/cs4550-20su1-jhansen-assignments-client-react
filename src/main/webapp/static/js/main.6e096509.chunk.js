(this["webpackJsonpwbdv-20su1-jhansen-client-react"]=this["webpackJsonpwbdv-20su1-jhansen-client-react"]||[]).push([[0],Array(20).concat([function(e,t,n){},,,,,,,,,,,,function(e,t,n){},,,,,,,function(e,t,n){e.exports=n(75)},,,,,,,,,function(e,t,n){},function(e,t,n){},,,,function(e,t,n){},,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(26),c=n.n(o),i=n(12),s=(n(48),n(49),n(4)),l=n(5),d=n(7),u=n(6),p=n(1),m=n(9),b=n(3),v=n(2),f="https://wbdv-generic-server.herokuapp.com/api/jhansen",w="https://cs4550-20su1-jhansen.herokuapp.com",h=function(e,t){return fetch("".concat(f,"/lessons/").concat(e,"/topics"),{method:"POST",body:JSON.stringify(t),headers:{"content-type":"application/json"}}).then((function(e){return e.json()}))},E=function(e){return fetch("".concat(f,"/lessons/").concat(e,"/topics")).then((function(e){return e.json()}))},g=function(e,t){return fetch("".concat(f,"/topics/").concat(e),{method:"PUT",body:JSON.stringify(t),headers:{"content-type":"application/json"}}).then((function(e){return e.json()}))},N=function(e){return fetch("".concat(f,"/topics/").concat(e),{method:"DELETE"}).then((function(e){return e.json()}))},_=function(e,t){return fetch("".concat(f,"/modules/").concat(e,"/lessons"),{method:"POST",body:JSON.stringify(t),headers:{"content-type":"application/json"}}).then((function(e){return e.json()}))},y=function(e){return fetch("".concat(f,"/modules/").concat(e,"/lessons")).then((function(e){return e.json()}))},O=function(e,t){return fetch("".concat(f,"/lessons/").concat(e),{method:"PUT",body:JSON.stringify(t),headers:{"content-type":"application/json"}}).then((function(e){return e.json()}))},T=function(e){return E(e).then((function(e){return e.map((function(e){return N(e._id)}))})),fetch("".concat(f,"/lessons/").concat(e),{method:"DELETE"}).then((function(e){return e.json()}))},C=function(e,t){return fetch("".concat(f,"/courses/").concat(e,"/modules"),{method:"POST",body:JSON.stringify(t),headers:{"content-type":"application/json"}}).then((function(e){return e.json()}))},j=function(e){return fetch("".concat(f,"/courses/").concat(e,"/modules")).then((function(e){return e.json()}))},k=function(){return fetch("".concat(f,"/modules")).then((function(e){return e.json()}))},S=function(e,t){return fetch("".concat(f,"/modules/").concat(e),{method:"PUT",body:JSON.stringify(t),headers:{"content-type":"application/json"}}).then((function(e){return e.json()}))},D=function(e){return y(e).then((function(e){return e.map((function(e){return T(e._id)}))})),fetch("".concat(f,"/modules/").concat(e),{method:"DELETE"}).then((function(e){return e.json()}))},I=function(e){return fetch("".concat(f,"/courses/"),{method:"POST",body:JSON.stringify(e),headers:{"content-type":"application/json"}}).then((function(e){return e.json()}))},L=function(e){return k(e).then((function(e){return e.map((function(e){return D(e._id)}))})),fetch("".concat(f,"/courses/").concat(e),{method:"DELETE"}).then((function(e){return e.json()}))},P=function(e){return fetch("".concat(f,"/courses/").concat(e)).then((function(e){return e.json()}))},W=function(){return fetch("".concat(f,"/courses/")).then((function(e){return e.json()}))},M=function(e,t){return fetch("".concat(f,"/courses/").concat(e),{method:"PUT",body:JSON.stringify(t),headers:{"content-type":"application/json"}}).then((function(e){return e.json()}))},A=(n(53),function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(s.a)(this,n);for(var a=arguments.length,o=new Array(a),c=0;c<a;c++)o[c]=arguments[c];return(e=t.call.apply(t,[this].concat(o))).state={editing:!1,course:e.props.course,newCourseTitle:e.props.course.title},e.componentDidUpdate=function(){e.state.course!==e.props.course&&e.setState({course:e.props.course})},e.setEditing=function(t){return e.setState(Object(p.a)(Object(p.a)({},e.state),{},{editing:t,newCourseTitle:e.state.course.title}))},e.saveCourseRow=function(){return M(e.state.course._id,Object(p.a)(Object(p.a)({},e.state.course),{},{title:e.state.newCourseTitle,modified:(new Date).toISOString()})).then((function(t){e.setEditing(!1),e.props.refreshCourses()}))},e.courseName=function(){return e.state.editing?r.a.createElement("input",{className:"wbdv-field wbdv-course-name-input",onChange:function(t){return e.setState({newCourseTitle:t.target.value})},value:e.state.newCourseTitle}):r.a.createElement(m.b,{className:"wbdv-icon-link",to:"/editor/".concat(e.state.course._id)},e.state.course.title)},e}return Object(l.a)(n,[{key:"render",value:function(){var e=this;return r.a.createElement("tr",{className:this.state.editing?"wbdv-highlighted":""},r.a.createElement("td",null,r.a.createElement(m.b,{to:"/editor/".concat(this.state.course._id)},r.a.createElement(b.a,{className:"wbdv-icon-link",icon:v.f}))),r.a.createElement("td",{className:"wbdv-title"},this.courseName()),r.a.createElement("td",{className:"wbdv-owner"},this.state.course.owner),r.a.createElement("td",{className:"wbdv-last-modified"},this.state.course.modified),r.a.createElement("td",{className:"wbdv-button-row"},this.state.editing?r.a.createElement("button",{className:"wbdv-button wbdv-green-btn",onClick:this.saveCourseRow},r.a.createElement(b.a,{icon:v.e})):r.a.createElement("button",{className:"wbdv-button wbdv-green-btn",onClick:function(){return e.setEditing(!0)}},r.a.createElement(b.a,{icon:v.g})),this.state.editing?r.a.createElement("button",{className:"float-right wbdv-red-btn wbdv-button wbdv-delete",onClick:function(){return e.setEditing(!1)}},r.a.createElement(b.a,{icon:v.k})):r.a.createElement("button",{className:"float-right wbdv-red-btn wbdv-button wbdv-delete",onClick:function(){return e.props.deleteCourse(e.props.course)}},r.a.createElement(b.a,{icon:v.n}))))}}]),n}(r.a.Component)),U=(n(20),n(55),function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(s.a)(this,n);for(var a=arguments.length,o=new Array(a),c=0;c<a;c++)o[c]=arguments[c];return(e=t.call.apply(t,[this].concat(o))).state={newCourseTitle:""},e.addCourse=function(t){""!==e.state.newCourseTitle?I({title:t,owner:"me",modified:(new Date).toISOString()}).then((function(t){e.props.refreshCourses(),e.setState({newCourseTitle:""})})):alert("New course title cannot be empty.")},e.sortIcon=function(){return r.a.createElement(b.a,{className:"wbdv-sort-icon",icon:e.props.sort.includes("desc")?v.h:v.i})},e}return Object(l.a)(n,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"wbdv-class-table"},r.a.createElement("div",{className:"wbdv-title-bar wbdv-course-table-header"},r.a.createElement("h2",null,"Courses"),r.a.createElement("form",{className:"wbdv-add-course-chunk"},r.a.createElement("input",{className:"wbdv-field wbdv-new-course",id:"add-course-title",type:"text",onChange:function(t){return e.setState({newCourseTitle:t.target.value})},value:this.state.newCourseTitle,placeholder:"Add a course",title:"Add the title of the new course"}),r.a.createElement("div",{className:"wbdv-button wbdv-add-course wbdv-icon-link",onClick:function(){return e.addCourse(e.state.newCourseTitle)}},"+"))),r.a.createElement("table",{className:"table table-striped wbdv-course-table"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null),r.a.createElement("th",{onClick:this.props.sortTitle},r.a.createElement("div",null,"Title",this.props.sort.includes("title")?this.sortIcon():null)),r.a.createElement("th",{onClick:this.props.sortOwner,className:"wbdv-owner"},r.a.createElement("div",null,"Owned By",this.props.sort.includes("owner")?this.sortIcon():null)),r.a.createElement("th",{onClick:this.props.sortDate,className:"wbdv-last-modified"},r.a.createElement("div",null,"Modified",this.props.sort.includes("date")?this.sortIcon():null)),r.a.createElement("th",null,r.a.createElement("div",{className:"wbdv-grid-btn-block"},r.a.createElement("div",{className:"wbdv-grid-btn-label"},"Grid view:"),r.a.createElement("div",{className:"wbdv-grid-btn"},this.props.gridButton))))),r.a.createElement("tbody",null,this.props.courses.map((function(t){return r.a.createElement(A,{refreshCourses:e.props.refreshCourses,deleteCourse:e.props.deleteCourse,key:t._id,course:t})})))))}}]),n}(r.a.Component)),x=function(e){var t=new Date(e),n=t.toDateString(),a=t.toLocaleTimeString(),r=a.lastIndexOf(":");return n.concat(" ",a.replace(a.substring(r,r+3)," "))},R=function(e){var t=new Date(e);if(t.toDateString()!==(new Date).toDateString())return t.toDateString();var n=t.toLocaleTimeString(),a=n.lastIndexOf(":");return n.replace(n.substring(a,a+3)," ")},F=(n(56),function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(s.a)(this,n);for(var a=arguments.length,o=new Array(a),c=0;c<a;c++)o[c]=arguments[c];return(e=t.call.apply(t,[this].concat(o))).state={editing:!1,course:e.props.course,newCourseTitle:e.props.course.title},e.componentDidUpdate=function(){e.state.course!==e.props.course&&e.setState({course:e.props.course})},e.setEditing=function(t){return e.setState({editing:t})},e.saveCourseCard=function(){return M(e.state.course._id,Object(p.a)(Object(p.a)({},e.state.course),{},{title:e.state.newCourseTitle,modified:(new Date).toISOString()})).then((function(t){e.setEditing(!1),e.props.refreshCourses()}))},e.courseName=function(){return e.state.editing?r.a.createElement("input",{className:"wbdv-field wbdv-course-name-input",onChange:function(t){return e.setState({newCourseTitle:t.target.value})},value:e.state.newCourseTitle}):r.a.createElement(m.b,{className:"wbdv-icon-link",to:"/editor/".concat(e.state.course._id)},e.state.course.title)},e}return Object(l.a)(n,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"wbdv-grid-item"},r.a.createElement("div",{className:"wbdv-card-preview"},r.a.createElement("div",{className:"wbdv-preview-text"},"Preview")),r.a.createElement("div",{className:"wbdv-card-edit-block"},r.a.createElement("div",{className:"wbdv-name-block"},this.courseName()),r.a.createElement("div",{className:"wbdv-modified-info"},"Modified:\xa0",R(this.props.course.modified)),r.a.createElement("div",{className:"wbdv-card-btn-row"},this.state.editing?r.a.createElement("button",{className:"wbdv-button wbdv-green-btn wbdv-card-btn",onClick:this.saveCourseCard},r.a.createElement(b.a,{icon:v.e})):r.a.createElement("button",{className:"wbdv-button wbdv-green-btn wbdv-card-btn",onClick:function(){return e.setEditing(!0)}},r.a.createElement(b.a,{icon:v.g})),this.state.editing?r.a.createElement("button",{className:"float-right wbdv-red-btn wbdv-button wbdv-delete wbdv-card-btn",onClick:function(){return e.setEditing(!1)}},r.a.createElement(b.a,{icon:v.k})):r.a.createElement("button",{className:"float-right wbdv-red-btn wbdv-button wbdv-delete wbdv-card-btn",onClick:function(){return e.props.deleteCourse(e.props.course)}},r.a.createElement(b.a,{icon:v.n})))))}}]),n}(r.a.Component)),G=(n(57),function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(s.a)(this,n);for(var a=arguments.length,o=new Array(a),c=0;c<a;c++)o[c]=arguments[c];return(e=t.call.apply(t,[this].concat(o))).state={newCourseTitle:""},e.addCourse=function(t){""!==e.state.newCourseTitle?I({title:t,owner:"me",modified:(new Date).toISOString()}).then((function(t){e.props.refreshCourses(),e.setState({newCourseTitle:""})})):alert("New course title cannot be empty.")},e.sortIcon=function(){return r.a.createElement(b.a,{className:"wbdv-sort-icon",icon:e.props.sort.includes("desc")?v.h:v.i})},e}return Object(l.a)(n,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"wbdv-grid-container"},r.a.createElement("div",{className:"wbdv-title-bar wbdv-course-grid-header"},r.a.createElement("h2",null,"Courses"),r.a.createElement("form",{className:"wbdv-add-course-chunk"},r.a.createElement("input",{className:"wbdv-field wbdv-new-course",id:"add-course-title",type:"text",onChange:function(t){return e.setState({newCourseTitle:t.target.value})},value:this.state.newCourseTitle,placeholder:"Add a course",title:"Add the title of the new course"}),r.a.createElement("div",{className:"wbdv-button wbdv-add-course wbdv-icon-link",onClick:function(){return e.addCourse(e.state.newCourseTitle)}},"+"))),r.a.createElement("div",{className:"wbdv-grid-sort-bar"},r.a.createElement("div",{className:"wbdv-sort-button-row"},r.a.createElement("div",{className:"wbdv-sort-button",onClick:this.props.sortTitle},"Title",this.props.sort.includes("title")?this.sortIcon():null),r.a.createElement("div",{className:"wbdv-sort-button",onClick:this.props.sortOwner},"Owner",this.props.sort.includes("owner")?this.sortIcon():null),r.a.createElement("div",{className:"wbdv-sort-button",onClick:this.props.sortDate},"Modified",this.props.sort.includes("date")?this.sortIcon():null)),r.a.createElement("div",{className:"wbdv-table-btn-block"},r.a.createElement("div",{className:"wbdv-table-btn-label"},"List view:"),r.a.createElement("div",{className:"wbdv-table-btn"},this.props.tableButton))),r.a.createElement("div",{className:"wbdv-class-grid"},this.props.courses.map((function(t){return r.a.createElement(F,{refreshCourses:e.props.refreshCourses,deleteCourse:e.props.deleteCourse,key:t._id,course:t})}))))}}]),n}(r.a.Component)),H=(n(58),function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(s.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={layout:e.props.match.params.layout,courses:[],sort:"date-desc"},e.setLayout=function(t){e.props.history.push("/courses/".concat(t,"/"))},e.deleteCourse=function(t){return L(t._id).then((function(n){return e.setState((function(e){return{courses:e.courses.filter((function(e){return e!==t}))}}))}))},e.sortTitle=function(t){var n,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";n=a?"title-".concat(a):"title-desc"===e.state.sort?"title-asc":"title-desc",e.setState(Object(p.a)(Object(p.a)({},e.state),{},{sort:n}))},e.sortOwner=function(t){var n,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";n=a?"owner-".concat(a):"owner-desc"===e.state.sort?"owner-asc":"owner-desc",e.setState(Object(p.a)(Object(p.a)({},e.state),{},{sort:n}))},e.sortDate=function(){e.setState(Object(p.a)(Object(p.a)({},e.state),{},{sort:"date-desc"===e.state.sort?"date-asc":"date-desc"}))},e.sortCourses=function(){var t;return"title-asc"===e.state.sort?t=function(e,t){return e.title.toString()<=t.title.toString()?1:-1}:"title-desc"===e.state.sort?t=function(e,t){return e.title.toString()<=t.title.toString()?-1:1}:"owner-asc"===e.state.sort?t=function(e,t){return e.owner.toString()<=t.owner.toString()?1:-1}:"owner-desc"===e.state.sort?t=function(e,t){return e.owner.toString()<=t.owner.toString()?-1:1}:"date-asc"===e.state.sort?t=function(e,t){return e.modified.toString()<=t.modified.toString()?1:-1}:"date-desc"===e.state.sort&&(t=function(e,t){return e.modified.toString()<=t.modified.toString()?-1:1}),e.state.courses.sort(t)},e.refreshCourses=function(){W().then((function(t){e.setState((function(e){return Object(p.a)(Object(p.a)({},e),{},{courses:t.map((function(e){return Object(p.a)(Object(p.a)({},e),{},{modified:x(e.modified)})}))})}))}))},e}return Object(l.a)(n,[{key:"componentDidMount",value:function(){var e=this;W().then((function(t){return e.setState({courses:t.map((function(e){return Object(p.a)(Object(p.a)({},e),{},{modified:x(e.modified)})}))})}))}},{key:"componentDidUpdate",value:function(e,t,n){e.match.params.layout!==this.props.match.params.layout&&this.setState({layout:this.props.match.params.layout})}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement("nav",{className:"navbar fixed-top wbdv-course-list-search-navbar"},r.a.createElement("div",null,r.a.createElement(m.b,{to:"/"},r.a.createElement(b.a,{icon:v.a,className:"wbdv-icon-link wbdv-back-btn"})),r.a.createElement("div",{className:"navbar-brand"},"Browse Courses")),r.a.createElement("div",{className:"wbdv-search-chunk"},r.a.createElement("input",{className:"wbdv-field",type:"search",placeholder:"Search","aria-label":"Search"}),r.a.createElement("button",{className:"wbdv-button wbdv-green-btn wbdv-course-search-button",type:"submit"},"Search"))),r.a.createElement("div",{className:"wbdv-padded-top"},"table"===this.state.layout&&r.a.createElement("div",null,r.a.createElement(U,{gridButton:r.a.createElement(b.a,{icon:v.j,onClick:function(){return e.setLayout("grid")},className:"wbdv-icon-link wbdv-switch-layout-btn"}),sortTitle:this.sortTitle,sortOwner:this.sortOwner,sortDate:this.sortDate,deleteCourse:this.deleteCourse,courses:this.sortCourses(),sort:this.state.sort,refreshCourses:this.refreshCourses})),"grid"===this.state.layout&&r.a.createElement("div",null,r.a.createElement(G,{tableButton:r.a.createElement(b.a,{icon:v.d,onClick:function(){return e.setLayout("table")},className:"wbdv-icon-link wbdv-switch-layout-btn"}),sortTitle:this.sortTitle,sortOwner:this.sortOwner,sortDate:this.sortDate,deleteCourse:this.deleteCourse,courses:this.sortCourses(),sort:this.state.sort,refreshCourses:this.refreshCourses}))))}}]),n}(r.a.Component)),J=n(17),B=function(e){return{type:"SET_MODULES",modules:e}},z=function(e){return{type:"DELETE_MODULE",moduleId:e}},V=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_MODULES":return t.modules;case"CREATE_MODULE":return[].concat(Object(J.a)(e),[t.module]);case"FIND_MODULES_FOR_COURSE":return e.filter((function(e){return e.courseId===t.courseId}));case"FIND_MODULE":return e.find((function(e){return e._id===t.moduleId}));case"UPDATE_MODULE":return Object(J.a)(e).map((function(e){return e._id===t.module._id?t.module:e}));case"DELETE_MODULE":return e.filter((function(e){return e._id!==t.moduleId}));default:return e}},X=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SELECT_COURSE":return t.course;default:return e}},$=function(e){return{type:"SELECT_MODULE",module:e}},q=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SELECT_MODULE":return t.module;default:return e}},K=n(19),Q=function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(s.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={editing:!1,newModuleTitle:e.props.module.name},e.toggleEditing=function(){e.setState({editing:!e.state.editing})},e.saveEdit=function(){if(e.state.newModuleTitle!==e.props.module.name){var t=Object(p.a)(Object(p.a)({},e.props.module),{},{name:e.state.newModuleTitle});S(e.props.module._id,t).then((function(n){return e.props.updateModule(t)}))}e.toggleEditing()},e.removeModule=function(){D(e.props.module._id).then((function(t){return e.props.removeModule(e.props.module._id)})),j(e.props.selected_course._id).then((function(t){var n=t.length>0?t[0]:{};e.props.selectModule(n)}))},e}return Object(l.a)(n,[{key:"componentDidUpdate",value:function(e,t,n){this.state===t&&this.state.newModuleTitle!==this.props.module.name&&this.setState({newModuleTitle:this.props.module.name})}},{key:"render",value:function(){var e=this;return r.a.createElement("li",{key:this.props.key,className:this.props.module._id===this.props.selected_module._id||this.state.editing?"list-group-item wbdv-module-item wbdv-module-selected":"list-group-item wbdv-module-item",onClick:function(){return e.props.selectModule(e.props.module)}},r.a.createElement("div",null,this.state.editing?r.a.createElement("input",{className:"wbdv-field",onChange:function(t){return e.setState({newModuleTitle:t.target.value})},value:this.state.newModuleTitle}):this.props.module.name),r.a.createElement("div",null,this.state.editing?r.a.createElement("button",{className:"wbdv-icon-link wbdv-btn",onClick:this.saveEdit},r.a.createElement(b.a,{className:"wbdv-icon-link",icon:v.e})):r.a.createElement("button",{className:"wbdv-icon-link wbdv-btn",onClick:this.toggleEditing},r.a.createElement(b.a,{className:"wbdv-icon-link",icon:v.f})),this.state.editing?r.a.createElement("button",{className:"wbdv-icon-link wbdv-delete-btn wbdv-btn",onClick:this.toggleEditing},"X"):r.a.createElement("button",{className:"wbdv-icon-link wbdv-delete-btn wbdv-btn",onClick:this.removeModule},"X")))}}]),n}(r.a.Component),Y=Object(K.a)((function(e){return{selected_module:e.selected_module,selected_course:e.selected_course}}),(function(e){return{selectModule:function(t){return e($(t))},updateModule:function(t){return e(function(e){return{type:"UPDATE_MODULE",module:e}}(t))},removeModule:function(t){return e(z(t))}}}))(Q),Z=(n(59),function(e){return{type:"SET_LESSONS",lessons:e}}),ee=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_LESSONS":return t.lessons;case"CREATE_LESSON":return[].concat(Object(J.a)(e),[t.lesson]);case"FIND_LESSONS_FOR_COURSE":return e.filter((function(e){return e.moduleId===t.moduleId}));case"FIND_LESSON":return e.find((function(e){return e._id===t.lessonId}));case"UPDATE_LESSON":return Object(J.a)(e).map((function(e){return e._id===t.lesson._id?t.lesson:e}));case"DELETE_LESSON":return e.filter((function(e){return e._id!==t.lessonId}));default:return e}},te=function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(s.a)(this,n);for(var a=arguments.length,o=new Array(a),c=0;c<a;c++)o[c]=arguments[c];return(e=t.call.apply(t,[this].concat(o))).addModule=function(){var t={name:"New Module",courseId:e.props.courseId};C(e.props.courseId,t).then((function(t){return e.props.addModule(t)}))},e.moduleRow=function(e,t){return r.a.createElement(Y,{module:e,key:t})},e}return Object(l.a)(n,[{key:"componentDidUpdate",value:function(e,t,n){var a=this;this.props.selected_module!==e.selected_module&&y(this.props.selected_module._id).then((function(e){return a.props.loadLessons(e)}))}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("div",{className:"wbdv-module-list-header"},r.a.createElement("div",null,"Modules"),r.a.createElement("button",{className:"wbdv-icon-link wbdv-btn",onClick:this.addModule},"+")),r.a.createElement("ul",{className:"list-group wbdv-module-list"},this.props.modules.map(this.moduleRow)))}}]),n}(r.a.Component),ne=Object(i.b)((function(e){return{selected_module:e.selected_module}}),(function(e){return{loadLessons:function(t){return e(Z(t))},addModule:function(t){return e(function(e){return{type:"CREATE_MODULE",module:e}}(t))},removeModule:function(t){return e(z(t))}}}))(te),ae=(n(60),function(e){return r.a.createElement("li",{className:e.selected===e.tab?"nav-item wbdv-navbar-content-item wbdv-selected-tab":"nav-item wbdv-navbar-content-item",onClick:function(){return e.selectTab(e.tab)}},r.a.createElement("button",{className:"nav-link wbdv-btn"},e.tab))}),re=(n(61),function(e){return{type:"SELECT_TOPIC",topic:e}}),oe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SELECT_TOPIC":return t.topic;default:return e}},ce=function(e){return{type:"SELECT_LESSON",lesson:e}},ie=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SELECT_LESSON":return t.lesson;default:return e}},se=function(e){return{type:"SET_TOPICS",topics:e}},le=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_TOPICS":return t.topics;case"CREATE_TOPIC":return[].concat(Object(J.a)(e),[t.topic]);case"FIND_TOPICS_FOR_LESSON":return e.filter((function(e){return e.lessonId===t.lessonId}));case"FIND_TOPIC":return e.find((function(e){return e._id===t.topicId}));case"UPDATE_TOPIC":return Object(J.a)(e).map((function(e){return e._id===t.topic._id?t.topic:e}));case"DELETE_TOPIC":return e.filter((function(e){return e._id!==t.topicId}));default:return e}},de=function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(s.a)(this,n);for(var a=arguments.length,o=new Array(a),c=0;c<a;c++)o[c]=arguments[c];return(e=t.call.apply(t,[this].concat(o))).lessonTabsComponent=function(t,n){return r.a.createElement(ae,{key:n,tab:t,selected:e.props.currentTab,selectTab:e.props.selectTab})},e}return Object(l.a)(n,[{key:"render",value:function(){var e=this;return r.a.createElement("nav",{className:"navbar navbar-light wbdv-editor-main-navbar"},r.a.createElement("div",null,r.a.createElement(m.b,{to:"/courses/",onClick:function(){e.props.clearSelectedModule(),e.props.clearSelectedLesson(),e.props.clearSelectedTopic(),e.props.clearModules(),e.props.clearLessons(),e.props.clearTopics()}},r.a.createElement(b.a,{className:"wbdv-course-editor wbdv-back-btn wbdv-icon-link",icon:v.a})),r.a.createElement("div",{className:"navbar-brand"},this.props.title)),r.a.createElement("ul",{className:"wbdv-navbar-content navbar-nav"},this.props.tabs.map(this.lessonTabsComponent),r.a.createElement("li",{className:"nav-item wbdv-navbar-content-item"},r.a.createElement("button",{className:"nav-link wbdv-icon-link wbdv-btn",onClick:this.props.addTab},"+"))))}}]),n}(r.a.Component),ue=Object(i.b)(null,(function(e){return{clearSelectedModule:function(){return e($({}))},clearSelectedLesson:function(){return e(ce({}))},clearSelectedTopic:function(){return e(re({}))},clearModules:function(){return e(B([]))},clearLessons:function(){return e(Z([]))},clearTopics:function(){return e(se([]))}}}))(de),pe=(n(62),n(63),function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(s.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={editing:!1,newLessonName:e.props.lesson.name},e.toggleEditing=function(){e.setState({editing:!e.state.editing})},e.saveEdit=function(){if(e.state.newLessonName!==e.props.lesson.name){var t=Object(p.a)(Object(p.a)({},e.props.lesson),{},{name:e.state.newLessonName});O(e.props.lesson._id,t).then((function(n){return e.props.updateLesson(t)}))}e.toggleEditing()},e.removeLesson=function(){T(e.props.lesson._id).then((function(t){return e.props.removeLesson(e.props.lesson._id)})),e.toggleEditing()},e}return Object(l.a)(n,[{key:"componentDidUpdate",value:function(e,t,n){this.state===t&&this.state.newLessonName!==this.props.lesson.name&&this.setState({newLessonName:this.props.lesson.name})}},{key:"render",value:function(){var e=this;return r.a.createElement("li",{key:this.props.key,className:"nav-item",onClick:function(){return e.props.selectLesson(e.props.lesson)}},r.a.createElement("div",{className:this.props.selected_lesson._id===this.props.lesson._id?"nav-link wbdv-lesson-pill active lesson-selected":"nav-link wbdv-lesson-pill"},this.state.editing?r.a.createElement("div",null,r.a.createElement("input",{className:"wbdv-field wbdv-lesson-name-input",onChange:function(t){return e.setState({newLessonName:t.target.value})},value:this.state.newLessonName}),r.a.createElement(b.a,{className:"wbdv-icon-link wbdv-lesson-btn",icon:v.e,onClick:this.saveEdit}),r.a.createElement(b.a,{className:"wbdv-icon-link wbdv-lesson-btn wbdv-delete-btn",icon:v.k,onClick:this.toggleEditing}),r.a.createElement(b.a,{className:"wbdv-icon-link wbdv-lesson-btn wbdv-delete-btn",icon:v.n,onClick:this.removeLesson})):r.a.createElement("div",null,this.props.lesson.name,r.a.createElement(b.a,{className:"wbdv-icon-link wbdv-lesson-btn",icon:v.f,onClick:this.toggleEditing}))))}}]),n}(r.a.Component)),me=Object(i.b)((function(e){return{selected_lesson:e.selected_lesson}}),(function(e){return{selectLesson:function(t){return e(ce(t))},removeLesson:function(t){return e({type:"DELETE_LESSON",lessonId:t})},updateLesson:function(t){return e(function(e){return{type:"UPDATE_LESSON",lesson:e}}(t))}}}))(pe),be=function(e){return 0===Object.keys(e).length},ve=(n(64),n(65),function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(s.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={editing:!1,newTopicName:e.props.topic.name},e.toggleEditing=function(){e.setState({editing:!e.state.editing})},e.saveEdit=function(){if(e.state.newTopicName!==e.props.topic.name){var t=Object(p.a)(Object(p.a)({},e.props.topic),{},{name:e.state.newTopicName});g(e.props.topic._id,t).then((function(n){return e.props.updateTopic(t)}))}e.toggleEditing()},e.removeTopic=function(){N(e.props.topic._id).then((function(t){return e.props.removeTopic(e.props.topic._id)})),e.toggleEditing()},e}return Object(l.a)(n,[{key:"componentDidUpdate",value:function(e,t,n){this.state===t&&this.state.newTopicName!==this.props.topic.name&&this.setState({newTopicName:this.props.topic.name})}},{key:"render",value:function(){var e=this;return r.a.createElement("li",{className:"nav-item wbdv-topic-pill-nav-item",onClick:function(){return e.props.selectTopic(e.props.topic)}},r.a.createElement("div",{className:this.props.selected_topic._id===this.props.topic._id?"nav-link wbdv-topic-pill active topic-selected":"nav-link wbdv-topic-pill"},this.state.editing?r.a.createElement("div",{className:"wbdv-topic-pill"},r.a.createElement("input",{className:"wbdv-field wbdv-topic-name-input",onChange:function(t){return e.setState({newTopicName:t.target.value})},value:this.state.newTopicName}),r.a.createElement(b.a,{className:"wbdv-icon-link wbdv-topic-btn",icon:v.e,onClick:this.saveEdit}),r.a.createElement(b.a,{className:"wbdv-icon-link wbdv-topic-btn wbdv-delete-btn",icon:v.k,onClick:this.toggleEditing}),r.a.createElement(b.a,{className:"wbdv-icon-link wbdv-topic-btn wbdv-delete-btn",icon:v.n,onClick:this.removeTopic})):r.a.createElement("div",null,this.props.topic.name,r.a.createElement(b.a,{className:"wbdv-icon-link wbdv-topic-btn",icon:v.f,onClick:this.toggleEditing}))))}}]),n}(r.a.Component)),fe=Object(K.a)((function(e){return{selected_topic:e.selected_topic}}),(function(e){return{selectTopic:function(t){return e(re(t))},removeTopic:function(t){return e({type:"DELETE_TOPIC",topicId:t})},updateTopic:function(t){return e(function(e){return{type:"UPDATE_TOPIC",topic:e}}(t))}}}))(ve),we=(n(66),[{value:"HEADING",display:"Heading"},{value:"PARAGRAPH",display:"Paragraph"}]),he=(n(32),n(67),function(e,t){return fetch("".concat(w,"/topics/").concat(e,"/widgets"),{method:"POST",body:JSON.stringify(t),headers:{"content-type":"application/json"}}).then((function(e){return e.json()}))}),Ee=function(e){return fetch("".concat(w,"/topics/").concat(e,"/widgets")).then((function(e){return e.json()}))},ge=function(e,t){return fetch("".concat(w,"/widgets/").concat(e),{method:"PUT",body:JSON.stringify(t),headers:{"content-type":"application/json"}}).then((function(e){return e.json()}))},Ne=function(e){return fetch("".concat(w,"/widgets/").concat(e),{method:"DELETE"}).then((function(e){return e.json()}))},_e=function(e){return fetch("".concat(w,"/widgets/").concat(e,"/reorderUp")).then((function(e){return e.json()}))},ye=function(e){return fetch("".concat(w,"/widgets/").concat(e,"/reorderDown")).then((function(e){return e.json()}))},Oe=function(e){return{type:"SET_WIDGETS",widgets:e}},Te=function(e){return{type:"UPDATE_WIDGET",widget:e}},Ce=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_WIDGETS":return t.widgets;case"CREATE_WIDGET":return[].concat(Object(J.a)(e),[t.widget]);case"FIND_WIDGETS_FOR_TOPIC":return e.filter((function(e){return e.topicId===t.topicId}));case"FIND_WIDGET":return e.find((function(e){return e._id===t.widgetId}));case"UPDATE_WIDGET":return Object(J.a)(e).map((function(e){return e._id===t.widget._id?t.widget:e}));case"DELETE_WIDGET":return e.filter((function(e){return e._id!==t.widgetId}));default:return e}},je=function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"updateWidgetType",value:function(e){var t=this;ge(this.props.selected_widget._id,Object(p.a)(Object(p.a)({},this.props.selected_widget),{},{type:e})).then((function(e){t.props.updateWidget(e)}))}},{key:"updateWidgetName",value:function(e){var t=this;""!==e&&ge(this.props.selected_widget._id,Object(p.a)(Object(p.a)({},this.props.selected_widget),{},{name:e})).then((function(e){t.props.updateWidget(e)}))}},{key:"render",value:function(){var e=this;return r.a.createElement("form",{className:"wbdv-widget-form"},r.a.createElement("div",{className:"form-group wbdv-widget-edit-row"},r.a.createElement("label",{className:"col-form-label wbdv-widget-input-label",htmlFor:"widget-name-input"},"Widget name:"),r.a.createElement("input",{onBlur:function(t){return e.updateWidgetName(t.target.value)},className:"wbdv-widget-input-field wbdv-field col",id:"widget-name-input",type:"text",placeholder:"Widget name"})),r.a.createElement("div",{className:"form-group wbdv-widget-edit-row"},r.a.createElement("label",{className:"col-form-label wbdv-widget-input-label"},"Widget type:"),r.a.createElement("select",{className:"wbdv-widget-input-field wbdv-field col",onChange:function(t){return e.updateWidgetType(t.target.value)},defaultValue:this.props.selected_widget.type},we.map((function(e){return r.a.createElement("option",{key:e.value,value:e.value},e.display)})))))}}]),n}(r.a.Component),ke=Object(i.b)((function(e){return{selected_widget:e.selected_widget}}),(function(e){return{updateWidget:function(t){return e(Te(t))}}}))(je),Se=(n(68),function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(s.a)(this,n);for(var a=arguments.length,o=new Array(a),c=0;c<a;c++)o[c]=arguments[c];return(e=t.call.apply(t,[this].concat(o))).state={text:e.props.widget.text||"Put your heading text here"},e.updateHeadingSize=function(t){ge(e.props.widget._id,Object(p.a)(Object(p.a)({},e.props.widget),{},{size:t})).then((function(t){return e.props.updateWidget(t)}))},e.updateHeadingText=function(){ge(e.props.widget._id,Object(p.a)(Object(p.a)({},e.props.widget),{},{text:e.state.text})).then((function(t){return e.props.updateWidget(t)}))},e.generatePreview=function(t,n){switch(e.props.widget.size){case 2:return r.a.createElement("h2",null,n);case 3:return r.a.createElement("h3",null,n);case 4:return r.a.createElement("h4",null,n);case 5:return r.a.createElement("h5",null,n);case 6:return r.a.createElement("h6",null,n);default:return r.a.createElement("h1",null,n)}},e}return Object(l.a)(n,[{key:"render",value:function(){var e=this,t=this.props.widget.name;return this.props.active&&r.a.createElement("div",{id:t,className:"wbdv-widget-body"},!this.props.widget_preview&&r.a.createElement("div",null,r.a.createElement(ke,null),r.a.createElement("form",{className:"wbdv-widget-edit"},r.a.createElement("div",{className:"wbdv-widget-type"},"Heading widget"),r.a.createElement("div",{className:"wbdv-widget-edit-row"},r.a.createElement("label",{className:"col-form-label wbdv-widget-input-label",htmlFor:"heading-body-input"},"Heading text:"),r.a.createElement("input",{className:"wbdv-widget-input-field wbdv-field col",type:"text",placeholder:"Put your heading text here",onChange:function(t){return e.setState({text:t.target.value})},onBlur:this.updateHeadingText,defaultValue:this.state.text})),r.a.createElement("div",{className:"wbdv-widget-edit-row"},r.a.createElement("label",{className:"col-form-label wbdv-widget-input-label",htmlFor:"size-dropdown"},"Size:"),r.a.createElement("select",{id:"size-dropdown",className:"wbdv-widget-input-field wbdv-field",onChange:function(t){return e.updateHeadingSize(t.target.value)},defaultValue:this.props.widget.size||1},r.a.createElement("option",{value:"1"},"Heading 1"),r.a.createElement("option",{value:"2"},"Heading 2"),r.a.createElement("option",{value:"3"},"Heading 3"),r.a.createElement("option",{value:"4"},"Heading 4"),r.a.createElement("option",{value:"5"},"Heading 5"),r.a.createElement("option",{value:"6"},"Heading 6")))),r.a.createElement("h5",null,"Widget Preview:")),r.a.createElement("div",{className:"wbdv-widget-preview"},this.generatePreview(this.props.widget.size,this.state.text)))}}]),n}(r.a.Component)),De=Object(K.a)((function(e){return{widget_preview:e.widget_preview}}),(function(e){return{updateWidget:function(t){return e(Te(t))}}}))(Se),Ie=(n(69),function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(s.a)(this,n);for(var a=arguments.length,o=new Array(a),c=0;c<a;c++)o[c]=arguments[c];return(e=t.call.apply(t,[this].concat(o))).node=r.a.createRef(),e.state={text:e.props.widget.text||"Paragraph text"},e.saveText=function(){ge(e.props.widget._id,Object(p.a)(Object(p.a)({},e.props.widget),{},{text:e.state.text}))},e}return Object(l.a)(n,[{key:"componentDidUpdate",value:function(){this.node&&this.node.current&&this.node.current.innerText!==this.state.text&&(this.node.current.innerText=this.state.text)}},{key:"render",value:function(){var e=this,t=this.props.widget.name;return this.props.active&&r.a.createElement("div",{id:t,className:"wbdv-widget-body"},!this.props.widget_preview&&r.a.createElement("div",null,r.a.createElement(ke,null),r.a.createElement("form",{className:"wbdv-widget-edit"},r.a.createElement("div",{className:"wbdv-widget-type"},"Paragraph widget"),r.a.createElement("div",{className:"wbdv-paragraph-input-wrapper"},r.a.createElement("div",{contentEditable:!0,ref:this.node,className:"wbdv-paragraph-input-field wbdv-field col",type:"text",onInput:function(t){return e.setState({text:t.target.innerText})},onBlur:this.saveText}))),r.a.createElement("h4",null,"Widget Preview:")),r.a.createElement("div",{className:"wbdv-widget-preview"},r.a.createElement("p",{className:"wbdv-paragraph-preview"},this.state.text)))}}]),n}(r.a.Component)),Le=Object(i.b)((function(e){return{widget_preview:e.widget_preview}}),null)(Ie),Pe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SELECT_WIDGET":return t.widget;default:return e}},We=function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(s.a)(this,n);for(var a=arguments.length,o=new Array(a),c=0;c<a;c++)o[c]=arguments[c];return(e=t.call.apply(t,[this].concat(o))).deleteWidget=function(t){Ne(t._id).then((function(n){return e.props.deleteWidget(t._id)}))},e.reorderUp=function(t){return _e(t._id).then((function(t){return e.props.setWidgets(t)}))},e.reorderDown=function(t){return ye(t._id).then((function(t){return e.props.setWidgets(t)}))},e.createWidget=function(t,n){return r.a.createElement("div",{className:"card",key:n},r.a.createElement("div",{className:"card-header wbdv-widget-heading-bar",onClick:function(){return e.props.selectWidget(e.props.selected_widget._id===t._id?{}:t)}},t.name,r.a.createElement("div",null,r.a.createElement("div",{className:"btn-group"},0!==t.widgetOrder&&r.a.createElement("button",{className:"btn btn-light",onClick:function(){return e.reorderUp(t)}},r.a.createElement(b.a,{icon:v.c})),t.widgetOrder!==e.props.widgets.length-1&&r.a.createElement("button",{className:"btn btn-light",onClick:function(){return e.reorderDown(t)}},r.a.createElement(b.a,{icon:v.b}))),r.a.createElement("button",{className:"wbdv-icon-link wbdv-btn wbdv-delete-btn",onClick:function(){return e.deleteWidget(t)}},"X"))),e.widgetType(t))},e.widgetType=function(t){return"HEADING"===t.type?e.createHeadingWidget(t):"PARAGRAPH"===t.type?e.createParagraphWidget(t):void 0},e.createHeadingWidget=function(t){return r.a.createElement(De,{widget:t,active:e.props.selected_widget._id===t._id})},e.createParagraphWidget=function(t){return r.a.createElement(Le,{widget:t,active:e.props.selected_widget._id===t._id})},e}return Object(l.a)(n,[{key:"render",value:function(){return r.a.createElement("div",{className:"accordion",id:"widget-accordion"},this.props.widgets.map(this.createWidget))}}]),n}(r.a.Component),Me=Object(i.b)((function(e){return{selected_widget:e.selected_widget}}),(function(e){return{selectWidget:function(t){return e(function(e){return{type:"SELECT_WIDGET",widget:e}}(t))},deleteWidget:function(t){return e({type:"DELETE_WIDGET",widgetId:t})},setWidgets:function(t){return e(Oe(t))}}}))(We),Ae=(n(70),function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"TOGGLE_WIDGET_PREVIEW":return!e;default:return e}}),Ue=function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(s.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).addWidget=function(){be(e.props.selected_topic)||he(e.props.selected_topic._id,{name:"New Widget",type:"HEADING",topicId:e.props.selected_topic._id}).then((function(t){return e.props.addWidget(t)}))},e}return Object(l.a)(n,[{key:"render",value:function(){return r.a.createElement("div",{className:"wbdv-topic-content"},r.a.createElement("div",{className:"wbdv-section-header"},r.a.createElement("div",null,"Widgets"),r.a.createElement("div",null,r.a.createElement("span",{className:"wbdv-widget-preview-label"},"Preview mode:"),r.a.createElement(b.a,{className:"wbdv-icon-link wbdv-widget-preview-toggle",icon:this.props.widget_preview?v.m:v.l,onClick:this.props.toggleWidgetPreview}),r.a.createElement("button",{className:"wbdv-btn wbdv-icon-link",onClick:this.addWidget},"+"))),r.a.createElement(Me,{widgets:this.props.widgets}))}}]),n}(r.a.Component),xe=Object(K.a)((function(e){return{selected_topic:e.selected_topic,selected_widget:e.selected_widget,widget_preview:e.widget_preview}}),(function(e){return{addWidget:function(t){return e(function(e){return{type:"CREATE_WIDGET",widget:e}}(t))},toggleWidgetPreview:function(){return e({type:"TOGGLE_WIDGET_PREVIEW"})}}}))(Ue),Re=function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(s.a)(this,n);for(var a=arguments.length,o=new Array(a),c=0;c<a;c++)o[c]=arguments[c];return(e=t.call.apply(t,[this].concat(o))).createTopic=function(){var t={lessonId:e.props.selected_lesson._id,name:"New Topic"};h(e.props.selected_lesson._id,t).then((function(t){return e.props.addTopic(t)}))},e.topicPill=function(e,t){return r.a.createElement(fe,{key:t,topic:e})},e}return Object(l.a)(n,[{key:"componentDidUpdate",value:function(e,t,n){var a=this;this.props.topics!==e.topics&&this.props.selectTopic(this.props.topics.length>0?this.props.topics[0]:{}),be(this.props.selected_topic)||this.props.selected_topic===e.selected_topic||Ee(this.props.selected_topic._id).then((function(e){return a.props.setWidgets(e)}))}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement("ul",{className:"nav nav-tabs topic-navbar wbdv-topic-pill-list"},this.props.topics.map(this.topicPill),r.a.createElement("li",{className:"nav-item"},r.a.createElement("div",{className:"nav-link topic-link wbdv-icon-link wbdv-topic-add-btn wbdv-topic-pill",onClick:this.createTopic},"+"))),!be(this.props.selected_topic)&&r.a.createElement(xe,{widgets:this.props.widgets.filter((function(t){return t.topicId===e.props.selected_topic._id}))}))}}]),n}(r.a.Component),Fe=Object(i.b)((function(e){return{selected_topic:e.selected_topic,selected_lesson:e.selected_lesson,widgets:e.widgets}}),(function(e){return{addTopic:function(t){return e(function(e){return{type:"CREATE_TOPIC",topic:e}}(t))},selectTopic:function(t){return e(re(t))},setWidgets:function(t){return e(Oe(t))}}}))(Re),Ge=function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(s.a)(this,n);for(var a=arguments.length,o=new Array(a),c=0;c<a;c++)o[c]=arguments[c];return(e=t.call.apply(t,[this].concat(o))).createLesson=function(){var t={name:"New Lesson",moduleId:e.props.selected_module._id};_(e.props.selected_module._id,t).then((function(t){e.props.addLesson(t)}))},e.lessonTab=function(e,t){return r.a.createElement(me,{key:t,lesson:e})},e}return Object(l.a)(n,[{key:"componentDidUpdate",value:function(e,t,n){var a=this;this.props.selected_module!==e.selected_module&&y(this.props.selected_module._id).then((function(e){var t=e.length>0?e[0]:{};a.props.selectLesson(t)})),this.props.selected_lesson!==e.selected_lesson&&E(this.props.selected_lesson._id).then((function(e){return a.props.loadTopics(e)}))}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement("ul",{className:"nav nav-tabs topic-navbar wbdv-lesson-tabs-list"},this.props.lessons.map(this.lessonTab),r.a.createElement("li",{className:"nav-item"},r.a.createElement("div",{className:"nav-link topic-link wbdv-icon-link wbdv-lesson-add-btn",onClick:function(){be(e.props.selected_module)||e.createLesson()}},"+"))),!be(this.props.selected_lesson)&&r.a.createElement(Fe,{topics:this.props.topics.filter((function(t){return t.lessonId===e.props.selected_lesson._id}))}))}}]),n}(r.a.Component),He=Object(i.b)((function(e){return{selected_module:e.selected_module,lessons:e.lessons,selected_lesson:e.selected_lesson,topics:e.topics}}),(function(e){return{loadTopics:function(t){return e(se(t))},addLesson:function(t){return e(function(e){return{type:"CREATE_LESSON",lesson:e}}(t))},selectLesson:function(t){return e(ce(t))}}}))(Ge),Je=["Build","Pages","Theme","Store","Apps"],Be=function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(s.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={currentTab:"Pages",tabs:Je},e.selectTab=function(e){return alert("Selected tab ".concat(e))},e.addTab=function(){return alert("Pretending to add tab")},e}return Object(l.a)(n,[{key:"componentDidMount",value:function(){var e=this,t=this.props.match.params.id;P(t).then((function(t){return e.props.loadCourse(t)})),j(t).then((function(t){e.props.loadModules(t),e.props.modules.length>0&&e.props.selectModule(e.props.modules[0])})),this.props.filterModules(t),P(t).then((function(t){var n=Object(p.a)(Object(p.a)({},t),{},{tabs:Je,currentTab:"Pages"});e.setState(Object(p.a)(Object(p.a)({},e.state),{},{course:n}))}))}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement(ue,{title:(this.props.selected_course||{title:""}).title,tabs:this.state.tabs,currentTab:this.state.currentTab,selectTab:this.selectTab,addTab:this.addTab}),r.a.createElement("div",{className:"wbdv-modules-section"},r.a.createElement("div",{className:"wbdv-modules-list"},r.a.createElement(ne,{modules:this.props.modules.filter((function(t){return t.courseId===(e.props.selected_course||{_id:""})._id})),courseId:(this.props.selected_course||{_id:""})._id})),r.a.createElement("div",{className:"wbdv-topic-section"},r.a.createElement(He,null))))}}]),n}(r.a.Component),ze=Object(i.b)((function(e){return{selected_module:e.selected_module,selected_course:e.selected_course,modules:e.modules,selected_lesson:e.selected_lesson,lessons:e.lessons}}),(function(e){return{loadCourse:function(t){return e(function(e){return{type:"SELECT_COURSE",course:e}}(t))},loadModules:function(t){return e(B(t))},selectModule:function(t){return e($(t))},filterModules:function(t){return e(function(e){return{type:"FIND_MODULES_FOR_COURSE",courseId:e}}(t))}}}))(Be),Ve=n(11),Xe=function(){return r.a.createElement("div",null,r.a.createElement("div",{className:"wbdv-title-bar"},r.a.createElement("h1",null,"Whiteboard")),r.a.createElement(m.b,{to:"/courses/table/"},"Browse course offerings"),r.a.createElement("br",null),r.a.createElement(m.b,{to:"/login/"},"Login"),r.a.createElement("br",null),r.a.createElement(m.b,{to:"/register/"},"Need an account? Register here"),r.a.createElement("br",null),r.a.createElement(m.b,{to:"/profile/"},"View your profile"),r.a.createElement("br",null))},$e=(n(71),function(){return r.a.createElement("div",null,r.a.createElement("div",{className:"wbdv-title-bar"},r.a.createElement("h1",null,"Sign In"),r.a.createElement(m.b,{className:"wbdv-cancel-btn wbdv-button btn wbdv-green-btn",to:"/"},"Cancel")),r.a.createElement("form",null,r.a.createElement("div",{className:"form-group wbdv-input-form-row"},r.a.createElement("label",{htmlFor:"usr",className:"col-form-label wbdv-input-label"},"Username"),r.a.createElement("input",{className:"wbdv-field wbdv-username col",id:"usr",type:"text",placeholder:"DwayneJohnson",title:"Use this username to login"})),r.a.createElement("div",{className:"form-group wbdv-input-form-row"},r.a.createElement("label",{htmlFor:"pwd",className:"col-form-label wbdv-input-label"},"Password"),r.a.createElement("input",{id:"pwd",className:"wbdv-field wbdv-password col",type:"password",placeholder:"abc123",title:"Please enter your password"}))),r.a.createElement("div",null,r.a.createElement(m.b,{className:"wbdv-button wbdv-login btn wbdv-green-btn",to:"/profile/"},"Login"),r.a.createElement("div",{className:"wbdv-login-zone-links"},r.a.createElement(m.b,{className:"wbdv-link wbdv-forgot-password",to:"/wip/"},"Forgot your password?"),r.a.createElement(m.b,{className:"wbdv-link wbdv-register",to:"/register/"},"Don't have an account yet? Register here"))))}),qe=(n(72),function(){return r.a.createElement("div",{className:"wbdv-wip-block"},r.a.createElement("h1",null,"Whoops!"),r.a.createElement("div",null,"The page you're looking for hasn't been implemented yet."),r.a.createElement(m.b,{to:"/"},"Back to home"))}),Ke=(n(73),function(){return r.a.createElement("div",null,r.a.createElement("div",{className:"wbdv-title-bar"},r.a.createElement("h1",null,"Register"),r.a.createElement(m.b,{className:"wbdv-ccancel-btn wbdv-button btn wbdv-green-btn",to:"/"},"Cancel")),r.a.createElement("form",null,r.a.createElement("div",{className:"form-group wbdv-input-form-row"},r.a.createElement("label",{htmlFor:"usr",className:"col-form-label wbdv-input-label"},"Username"),r.a.createElement("input",{className:"wbdv-field wbdv-username register-input-field col",id:"usr",type:"text",placeholder:"DwayneJohnson",title:"Please select a username"})),r.a.createElement("div",{className:"form-group wbdv-input-form-row"},r.a.createElement("label",{htmlFor:"pwd",className:"col-form-label wbdv-input-label"},"Password"),r.a.createElement("input",{id:"pwd",className:"wbdv-field wbdv-password col",type:"password",placeholder:"abc123",title:"Please enter a secure password"})),r.a.createElement("div",{className:"form-group wbdv-input-form-row"},r.a.createElement("label",{htmlFor:"verify-pwd",className:"col-form-label wbdv-input-label"},"Verify Password"),r.a.createElement("input",{id:"verify-pwd",className:"wbdv-field wbdv-password-verify col",type:"password",placeholder:"abc123",title:"Please re-enter your password for verification"}))),r.a.createElement("div",null,r.a.createElement(m.b,{className:"wbdv-button wbdv-register btn wbdv-green-btn",to:"/profile/"},"Register"),r.a.createElement("div",null,r.a.createElement(m.b,{className:"wbdv-link wbdv-login",to:"/login/"},"Already have an account? Click here to log in"))))}),Qe=(n(74),function(){return r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement("div",{className:"wbdv-title-bar wbdv-profile-title-bar"},r.a.createElement("h1",null,"Profile")),r.a.createElement("div",{className:"wbdv-message alert wbdv-green-alert",role:"alert"},"Profile saved successfully.")),r.a.createElement("form",null,r.a.createElement("div",{className:"form-group wbdv-input-form-row"},r.a.createElement("label",{htmlFor:"usr",className:"col-form-label wbdv-input-label"},"Username"),r.a.createElement("input",{className:"wbdv-field wbdv-username col",id:"usr",value:"DwayneJohnson",type:"text",placeholder:"DwayneJohnson",title:"Use this username to login",disabled:!0})),r.a.createElement("div",{className:"form-group wbdv-input-form-row"},r.a.createElement("label",{htmlFor:"pwd",className:"col-form-label wbdv-input-label"},"Password"),r.a.createElement("input",{className:"wbdv-field wbdv-password col",id:"pwd",type:"password",placeholder:"abc123"})),r.a.createElement("div",{className:"form-group wbdv-input-form-row"},r.a.createElement("label",{htmlFor:"phone",className:"col-form-label wbdv-input-label"},"Phone"),r.a.createElement("input",{className:"wbdv-field wbdv-phone col",id:"phone",type:"tel",placeholder:"(123) 456-7890"})),r.a.createElement("div",{className:"form-group wbdv-input-form-row"},r.a.createElement("label",{htmlFor:"email",className:"col-form-label wbdv-input-label"},"Email"),r.a.createElement("input",{className:"wbdv-field wbdv-email col",id:"email",type:"email",placeholder:"<last_name>.<first_initial>@husky.neu.edu"})),r.a.createElement("div",{className:"form-group wbdv-input-form-row"},r.a.createElement("label",{htmlFor:"dob",className:"col-form-label wbdv-input-label"},"Date of Birth"),r.a.createElement("input",{className:"wbdv-field wbdv-dob col",id:"dob",type:"date"})),r.a.createElement("div",{className:"form-group wbdv-input-form-row"},r.a.createElement("label",{htmlFor:"role",className:"col-form-label wbdv-input-label"},"Role"),r.a.createElement("select",{className:"wbdv-field wbdv-role col",id:"role"},r.a.createElement("option",{value:"Faculty"},"Faculty"),r.a.createElement("option",{value:"Student"},"Student"),r.a.createElement("option",{value:"Admin"},"Admin")))),r.a.createElement("button",{className:"wbdv-button wbdv-update btn wbdv-green-btn"},"Update Profile"),r.a.createElement(m.b,{to:"/",className:"wbdv-button wbdv-logout btn wbdv-red-btn"},"Logout"))}),Ye=function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){return r.a.createElement(m.a,null,r.a.createElement("div",null,r.a.createElement(Ve.b,{path:"/:url*",exact:!0,strict:!0,render:function(e){return r.a.createElement(Ve.a,{to:"".concat(e.location.pathname,"/")})}}),r.a.createElement(Ve.b,{path:"/",exact:!0,component:Xe}),r.a.createElement(Ve.b,{path:"/courses/",exact:!0,strict:!0,render:function(e){return r.a.createElement(Ve.a,{to:"".concat(e.location.pathname,"table/")})}}),r.a.createElement(Ve.b,{path:"/courses/:layout/",exact:!0,component:H}),r.a.createElement(Ve.b,{path:"/editor/:id",exact:!0,component:ze}),r.a.createElement(Ve.b,{path:"/profile/",exact:!0,component:Qe}),r.a.createElement(Ve.b,{path:"/login/",exact:!0,component:$e}),r.a.createElement(Ve.b,{path:"/register/",exact:!0,component:Ke}),r.a.createElement(Ve.b,{path:"/wip/",exact:!0,component:qe})))}}]),n}(a.Component);var Ze=function(){return r.a.createElement("div",null,r.a.createElement("header",null,r.a.createElement(Ye,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var et=n(30),tt=Object(et.b)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return{selected_course:X(e.selected_course,t),modules:V(e.modules,t),selected_module:q(e.selected_module,t),lessons:ee(e.lessons,t),selected_lesson:ie(e.selected_lesson,t),topics:le(e.topics,t),selected_topic:oe(e.selected_topic,t),widgets:Ce(e.widgets,t),selected_widget:Pe(e.selected_widget,t),widget_preview:Ae(e.widget_preview,t)}}));c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(i.a,{store:tt},r.a.createElement(Ze,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}]),[[39,1,2]]]);
//# sourceMappingURL=main.6e096509.chunk.js.map